cmake_minimum_required(VERSION 3.16)
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)

#project name
project(yk)


#--------target--------#

include_directories(src)

find_package(Vulkan REQUIRED)

include_directories(
    include
    ${Vulkan_INCLUDE_DIRS}
)

set(yk_src "src/yk.c")

add_library(${PROJECT_NAME} ${yk_src})
target_link_libraries(${PROJECT_NAME}  ${Vulkan_LIBRARIES})

add_executable(yk_test "src/main.c")
target_link_libraries(yk_test yk )

#---------------------#


#----------copy files----------#


#|---compile-commands-|

add_custom_target(
    yk_copy-compile-commands ALL
    COMMAND ${CMAKE_COMMAND} -E copy_if_different
        ${CMAKE_BINARY_DIR}/compile_commands.json
        ${CMAKE_CURRENT_LIST_DIR}
)

#|----------------|

#---------------------#